<!DOCTYPE html>
<html lang="pt-br">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Site informativo sobre HTTP - Trabalho de redes">
  <meta name="author" content="Beabelha">

  <!-- Titulo do site --> 
  <title>HTTPINFO - REST API</title>

  <!-- CSS DO DATA TABLE -->
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">

  <!-- Bootstrap CSS -->
  <link href="scss/bootstrap.min.css" rel="stylesheet">

  <!-- Fontes customizaveis -->
  <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet">
  <link href="scss/all.min.css" rel="stylesheet">

  <!-- CSS LOCAL -->
  <link href="css/resume.min.css" rel="stylesheet">

  <!-- ICONE (FAVICON) DO SITE -->
  <link href="img/favicon.ico" rel="icon" type="image/x-icon">

  <!-- JQUERY (para o funcionamento da datatable) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <!-- Script da DATATABLE --> 
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>

</head>

<body id="page-top">
  <!-- Barra de navegação do site de pagina unica, acha as sessões pelo ID --> 
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
    <a class="navbar-brand js-scroll-trigger" href="#page-top">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="index.html">Voltar</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="apirest.html">API REST</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#awards"></a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container-fluid p-0">

    <section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="inicio">
      <div class="w-100">
        <h1 class="mb-0">REST-
          <span class="text-primary">API</span>
        </h1>
        <div class="subheading mb-5">Uma API REST pronta para responder às suas solicitações AJAX! :)
        </div>
      </div>
    </section>

    <hr class="m-0">

    <!-- Primeira sessão, o que é http --> 
    <section class="resume-section p-3 p-lg-5 d-flex justify-content-center" id="sobre">
      <div class="w-100">

        <div class="resume-item d-flex flex-column flex-md-row justify-content-between mb-5">
          <div class="resume-content">
            <!-- DATA TABLE -->
            <table id="tableREST" class="display">
              <thead>
                <tr>
                  <th>Column 1</th>
                  <th>Column 2</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Row 1 Data 1</td>
                  <td>Row 1 Data 2</td>
                </tr>
                <tr>
                  <td>Row 2 Data 1</td>
                  <td>Row 2 Data 2</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>

    </div>

    <!-- Script da REST API -->

    <script type="text/javascript">
     var xhr = new XMLHttpRequest();

     xhr.onload = function(){
      if(xhr.status == 200){

        let json = JSON.parse(xhr.responseText);
        console.log(json);

        $(document).ready(function() {
          $('#tableREST').DataTable( {
            json,
            "columns": [
            { "data": "id" },
            { "data": "name" }]
          } );
        } );

      }
    }
    xhr.open("GET", "https://reqres.in/api/users?page=2", true);
    xhr.send();


  </script>

  <!-- Bootstrap JavaScript -->
<!--   <script src="scss/jquery.min.js"></script>
-->  <script src="scss/bootstrap.bundle.min.js"></script>

<!-- Plugin jquery JavaScript -->
<script src="scss/jquery.easing.min.js"></script>
<script src="js/resume.min.js"></script>

</body>

</html>
